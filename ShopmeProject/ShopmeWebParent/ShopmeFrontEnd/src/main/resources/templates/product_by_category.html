<!DOCTYPE html>
<html xmlns:th="http://www.thymeLeaf.org"/>

<head th:replace="layouts :: header(${pageTitle}, 'none')"/>
	
<body>
	<div class = "container-fluid">
		<div th:replace="layouts :: divnavbar"> </div>
		<div>
			<h1>Products in Category</h1>
		</div>
		
		<div th:if="${listCategoryParents != null && !listCategoryParents.empty}">
			<div class="row">
				<div class="col">
					<nav>
						<ol class="breadcrumb">
							<li class="breadcrumb-item">
								<a th:href="@{/}">Home</a>
							</li>
							<th:block th:each="parent : ${listCategoryParents}" >
								<li class="breadcrumb-item">
									<a th:href="@{'/c/' + ${parent.alias}}">[[${parent.name}]]</a>
								</li>
							</th:block>
						</ol>
					</nav>
				</div>
			</div>
		</div>
		
		<div class="row text-center">
			<th:block th:each="cat : ${category.children}">
				<div class="col" th:if="${cat.enabled == true}">
					<a th:href="@{'/c/' + ${cat.alias}}">
						<img th:src="@{${cat.imagePath}}" height="100" />
						<br/>
						<b> [[${cat.name}]] </b>
					</a>
				</div>
			</th:block>
		</div>
		
		<div class="row">&nbsp;</div>
		
		<div class="row">
			<th:block th:each="product : ${listProducts}">
				<div class="col">
					<div>
						<img th:src="@{${product.mainImagePath}}" width ="150"/>
						<br/>
						<b>[[${product.name}]]</b>
					</div>
					<div th:if="${product.discountPercentage <= 0}">
						<span>$[[${product.price}]]</span>
					</div>
					<div th:if="${product.discountPercentage > 0}">
					 	<span style="font-size: Larger; color: darkred">$ [[${product.discountPrice}]]</span>
						<del><span>$ [[${product.price}]]</span></del>
					</div>
				</div>
			</th:block>
		</div>
		
		<div th:replace="fragments :: pagination('/c/' + ${category.alias}, 'product')"></div>
		
	</div>
	
	<div th:replace="layouts :: footer"></div>
</body>
	
	
</html>