<!DOCTYPE html>
<html xmlns:th="http://www.thymeLeaf.org">
	<head th:replace="layouts :: header('Reset Password', 'none')"/>
	
	<body>
		<div class = "container-fluid text-center">
			<div th:replace="layouts :: divnavbar"/>
			
			<div>&nbsp;</div>
			
			<div>
				<h2>Reset Your Password</h2>
			</div>
			
			<form th:action="@{reset_password}" method="POST" style="max-width: 420px; margin: 0 auto;">
				<input type="hidden" th:value="${token}" name="token"/>
				<div class="border border-secondary rounded p-3">
					<div>
						<p>
							<input type="password" name="password" id="password" 
								class="form-control" placeholder="Enter your new password" 
								required="required" autofocus="autofocus" minlength="8" maxlength="15"/>
						</p>
					</div>
					<div>
						<p>
							<input type="password" 
								class="form-control" placeholder="Confirm your new password" 
								required="required" autofocus="autofocus" minlength="8" maxlength="15"
								oninput="checkPasswordMatch(this)"/>
						</p>
					</div>
					<div>
						<input type="submit" value="Change Password" class="btn btn-primary"/>
					</div>
				</div>
			</form>
			
			<div>&nbsp;</div>
			
		</div>
		
		<div th:replace="layouts :: footer"/>
		
		<script type="text/javascript">
			function checkPasswordMatch(confirmPassword){
				if(confirmPassword.value != $("#password").val()){
					confirmPassword.setCustomValidity("Passwords do not match!");
				}
				else{
					confirmPassword.setCustomValidity("");
				}
			}
		</script>
	</body>
	
	
</html>